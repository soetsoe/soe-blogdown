---
title: "Cross-border Funding for Financial Inclusion Projects"
subtitle: "âš”<br/>Data viz with R"
author: "Soethiha Soe"
date: "2018/06/09"
output:
  xaringan::moon_reader:
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
```


```{r load_libraries, include=FALSE}
library(here)
library(readr)
library(tidyr)
library(dplyr)
library(DT)
library(ggplot2)
```

background-image: url(https://btca-prod.s3.amazonaws.com/image/403/large.jpg?1442877162)
background-position: 25% 85%
background-size: 50%

##Introduction
The International Financial Inclusion Funding Dataset contains records of  major international funding for microfinance and financial inclusion projects.  The data was collected through surveys conducted by the [Consultative Group to Assist the Poor (CGAP)](http://www.cgap.org/about)

The dataset contains yearly records of (1) the total cross-geography funding amount in U.S dollars (2) the amount distributed by geography (3) major project themes that received funding.  

???
Image credit: [Better than Cash Alliance](https://www.betterthancash.org/why-digital-payments)

---
## Let's take a glimpse
* Categorical variables: 'Year', 'Geography', 'Region Funding', and 'Global Funding'

* Total of 43 data entries tracking the amount of funds (U.S. Billions) committed across seven geographical regions between 2011 and 2016.  

* The seven regions are Europe and Central Asia, East Asia and the Pacific, South Asia, Sub-Saharan Africa, Latin America and the Carribean, Middle East and North Africa, and Other Regions.

```{r glimpse_data, eval=TRUE, echo = FALSE, message=FALSE, fig.height=4, fig.width=10}

funding <- read_csv("data/financial_inclusion.csv")
#glimpse(funding)
DT::datatable(funding, fillContainer = FALSE, options = list(pageLength = 5))
```
---
## Data visualization - stacked area graph
* We used a stacked area graph to visualize the change in the total amount of funding committed as well as the distribution for each geography from 2011 to 2016.  

```{r creat_plot_1, echo=FALSE, fig.align = "center", fig.height=6, fig.width=10, message=FALSE}

#ggplot(funding, aes(x = Year, y = 'Region Funding')) + 
#geom_column()
geos <- funding$Geography
years <- funding$Year
geo_funding <- funding$`Region Funding`

data <- data.frame(geos,years,geo_funding)

original_plot <- ggplot(data, aes(x=years, y=geo_funding, fill = geos)) +
  geom_area() +
  labs(x = "Year", y = "Funding (Billions U.S. Dollar)") +
  ggtitle("Major Fundings for Microfinance and Financial Inclusion Projects")

original_plot
```

---
## Improved graph
We can improve the graph visualization by (1) using a color-blind (and projector) friendly color palette and (2) outlining each of the stacked areas.  

```{r creat_plot_2, echo=FALSE, fig.align = "center", fig.height=6, fig.width=10, message=FALSE}
library(RColorBrewer)

improved_plot <- original_plot +
  geom_area(colour="black", size=.2, alpha=.4) +
  scale_fill_brewer(palette="Greens", breaks=rev(levels(data$geos)))

improved_plot
```
---
## Exploring further
A picture is worth a thousand words.  It's difficult to visualize where funding is being distributed based on lexical descriptions alone.  Let's take a look at where in the world fundings are going using a map plot!

---
## Interpreting the graph

* The stacked area graph displays the evolution of the value of several groups on the same graph. In this example, we display the change in the dollar funding amount between the years 2011 to 2016.  The year of record is on the x-axis, and the funding amount in U.S. dollars is on the y-axis

* The committed fundings for each geography are displayed on top of each other. We can examine in the same figure the evolution of both the total funding for all geos, and the distribution for each geo. 

* Note that this chart is best for datasets with small number of groups (perhaps < 10).  Otherwise it becomes hard to read.  

---
## Presentation tips
* Use annotation to overlay information that could be more useful in interpreting the results.

* Include the dollar amount committed to each geo in 2011 and 2016 to show whether funding has increased or decreased

* Include the number of countries for each geo in the legend

* Include annotation of the total number of projects funded each year

---
## Potential variations of the graph

* A line or scatter plot is another way to visualize the data.  However, it is difficult the interpret the significance of each group's contribution to the total amount using a scatter plot

* We can also use a stackd bar chart to study the evolutin of subgroups.  However, it lacks the continuity and flow provided by stacked area graph.

* We can also use faceting with either one of the alternative options above.

---
class: center, middle

# Thanks! 

### "Live as if you were to die tomorrow.  Learn as if you were to live forever" -Gandhi

Slides created via the R package [**xaringan**](https://github.com/yihui/xaringan).

The chakra comes from [remark.js](https://remarkjs.com), [**knitr**](http://yihui.name/knitr), and [R Markdown](https://rmarkdown.rstudio.com).
---
